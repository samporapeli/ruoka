{% extends 'base.html' %}

{% block content %}

<a href="javascript:history.back()">← Back</a>
<br>
<br>

Image ID: {{ image.id }}
<br>
User: <a href="{{ url_for('profile', username=image.user.username) }}">{{ image.user.username }}</a>
<img class="fullwidth" src="{{ image.url }}">

{% if image.user == get_user() %}
<script>
let checkDeletion = (event) => {
    let answer = prompt("Are you sure you want to delete this image? This action cannot be undone. Please type \"delete\" to confirm.")
    if (answer !== 'delete') {
        event.preventDefault()
    }
}
</script>
<form action="/delete-image" method="post" onsubmit="return checkDeletion(event)">
    <input type="hidden" name="image-id" value="{{ image.id }}">
    <button name="delete-button" value="true">Delete this image</button>
</form>
{% endif %}

{% endblock %}
